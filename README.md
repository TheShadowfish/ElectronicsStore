# Описание проекта

Доделать: валидацию относительно поставщика и товара, вьюсеты распределить.
С валидацией в джанго дерьмо - отдельно заставить повторять код для админки во вьюсетах это гениальное решение
ПИЗДЕЦ!!!! ДО ЧЕГО ПО-ДУРАЦКИ!!!! ААААРРРРРРРРРРРРГХ!!!!

Онлайн платформа-торговой сети электроники.
Для запуска необходимо 
1. клонировать с гитхаба
2. создать в корне проекта файл .env согласно образцу в .env-sample
3. создать базу данных соответствующую POSTGRES_DB=<имя вашей базы данных> и выполнить python3 manage.py migrate
4. при необходимости загрузить тестовые данные в БД python3 manage.py loaddata data/testdata.json

**Проект представляет модель сети по продаже электроники.**
1. Сеть представляет собой иерархическую структуру из трех уровней
- завод; 
- розничная сеть;
- индивидуальный предприниматель.
Каждое звено сети ссылается только на одного поставщика оборудования (не обязательно предыдущего по иерархии). 
- Уровень иерархии определяется не названием звена, а отношением к остальным элементам сети, т. е. завод всегда находится на уровне 0, а если розничная сеть относится напрямую к заводу, минуя остальные звенья, ее уровень — 1. (реализовано, +)
(создание большего количества уровней чем 3 запрещено програмно согласно ТЗ)

3. Каждое звено сети должно обладает следующими элементами:
- Название.
- Контакты: (ссылка на модель "Контакты")
  - email,
  - страна,
  - город,
  - улица,
  - номер дома.
- Продукты: (ссылка на модель "Продукты")
  - название,
  - модель,
  - дата выхода продукта на рынок.
- Поставщик (предыдущий по иерархии объект сети). (реализовано, +)
- Задолженность перед поставщиком в денежном выражении с точностью до копеек. (реализовано, +)
- Время создания (заполняется автоматически при создании). (реализовано, +)
- завод; 
- розничная сеть;
- индивидуальный предприниматель.
Продукты либо определяются при создании элемента сети если он на первом уровне, либо наследуется от предыдущего,
данный функционал **обусловлен здравым смыслом** - невозможно поставлять продукт, который не получил от предыдущего поставщика

4. В админ-панели выводятся все созданные модели, доступны для редактирования.

точка входа: http://localhost:8000/admin/

На странице объекта сети имеется согласно ТЗ:
- ссылку на «Поставщика»; 
- фильтр по названию города; 
- admin action, очищающий задолженность перед поставщиком у выбранных объектов. 


5. Создан набор представлений с использованием DRF (согласно ТЗ):

- CRUD для модели поставщика (запрещено обновление через API поля «Задолженность перед поставщиком»).
- Имеется возможность фильтрации объектов по определенной стране.
  (http://localhost:8000/suppliers?country=Аргентина)
- Настрены права доступа к API так, чтобы только активные сотрудники имели доступ к API. 
  (доступ после авторизации через http://localhost:8000/login/, осуществляется проверка, активен ли сотрудник)
- создание поставщика одновременно с экземпляром продукта и контактами
  http://localhost:8000/suppliers/suppliers/
- создание поставщика с указанием существующих экземпляров продукта и контактов
  http://localhost:8000/suppliers/suppliers/product_contacts_exists/
  Поскольку ТЗ не определяет необходимость CRUD для других моделей (контакты, продукт), 
  их редактирование доступно только через панель администратора

6. Документация по API проекта:
    http://localhost:8000/swagger/
    http://localhost:8000/redoc/

=======================================================================================================================




**Задание**

В данном задании вам предлагается разработать онлайн платформу-торговой сети электроники

**Общая информация**

Тестовое задание состоит из нескольких задач. Мы примем вашу кандидатуру к рассмотрению только в том случае, если работа выполнена целиком. Попытайтесь продемонстрировать ваш уровень опыта и навыков в каждой задаче, чтобы мы смогли в полной мере оценить вашу кандидатуру.
Вы должны отправить ваше готовое приложение в виде ссылки на GitHub- или GitLab-репозиторий. **(+)**

Если вы пришлете приложение в любом другом виде (в виде ссылки на zip-архив, прикрепите zip-архив к письму и др.), ваша кандидатура не будет нами рассмотрена!
Если вы сделали не все пункты тестового задания — пожалуйста, укажите причину, по которой вы их не выполнили (не хватило времени, не хватило опыта/знаний, что-то еще).

**Технические требования** **(+)**
- Python 3.8+ (+)
- Django 3+ (+)
- DRF 3.10+ (+)
- PostgreSQL 10+ (+)
При выполнении тестового задания вы можете дополнительно использовать любые сторонние Python-библиотеки без всяких ограничений.

**Задание**

Создайте веб-приложение с API-интерфейсом и админ-панелью.

Создайте базу данных, используя миграции Django.


**Требования к реализации:**

Необходимо реализовать модель сети по продаже электроники.
Сеть должна представлять собой иерархическую структуру из трех уровней: (реализовано, +)

- завод; 
- розничная сеть;
- индивидуальный предприниматель.

Каждое звено сети ссылается только на одного поставщика оборудования (не обязательно предыдущего по иерархии). Важно отметить, что уровень иерархии определяется не названием звена, а отношением к остальным элементам сети, т. е. завод всегда находится на уровне 0, а если розничная сеть относится напрямую к заводу, минуя остальные звенья, ее уровень — 1. (реализовано, +)


**Каждое звено сети должно обладать следующими элементами:** (реализовано, +)
- Название.
- Контакты: (реализовано, +)
  - email, (+)
  - страна, (+)
  - город, (+)
  - улица, (+)
  - номер дома. (+)
- Продукты: (реализовано, +)
  - название, (+)
  - модель, (+)
  - дата выхода продукта на рынок. (+)
- Поставщик (предыдущий по иерархии объект сети). (реализовано, +)
- Задолженность перед поставщиком в денежном выражении с точностью до копеек. (реализовано, +)
- Время создания (заполняется автоматически при создании). (реализовано, +)


**Сделать вывод в админ-панели созданных объектов.**

На странице объекта сети добавить:
- ссылку на «Поставщика»; (реализовано, +)
- фильтр по названию города; (реализовано, +)
- admin action, очищающий задолженность перед поставщиком у выбранных объектов. (реализовано, +)


**Используя DRF, создать набор представлений:**

- CRUD для модели поставщика (запретить обновление через API поля «Задолженность перед поставщиком»). (реализовано, +)
- Добавить возможность фильтрации объектов по определенной стране.  (реализовано, +)
  (http://localhost:8000/suppliers?country=Аргентина)
- Настроить права доступа к API так, чтобы только активные сотрудники имели доступ к API. (реализовано, +)